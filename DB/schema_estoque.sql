DROP TABLE IF EXISTS estoque;
DROP TABLE IF EXISTS informacao;
DROP TABLE IF EXISTS tracker;

CREATE TABLE estoque (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  code TEXT UNIQUE NOT NULL,
  preco_compra INTEGER NOT NULL,
  preco_venda INTEGER NOT NULL,
  quantidade INTEGER NOT NULL
);

CREATE TABLE informacao (
  codeid INTEGER NOT NULL,
  nome TEXT NOT NULL,
  descricao TEXT,
  FOREIGN KEY(codeid)
  REFERENCES estoque(id)
    ON UPDATE CASCADE
    ON DELETE CASCADE
);

CREATE TABLE tracker (
  codeid INTEGER NOT NULL,
  timestamp TEXT NOT NULL,
  delta INTEGER NOT NULL,
  FOREIGN KEY(codeid)
  REFERENCES estoque(id)
    ON UPDATE CASCADE
    ON DELETE CASCADE

);